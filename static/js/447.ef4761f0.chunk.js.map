{"version":3,"file":"static/js/447.ef4761f0.chunk.js","mappings":"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","sources":["components/portfolio/WriteComment.jsx","components/portfolio/Comment.jsx","pages/PortfolioDetail.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components'\nimport Input from '../common/Input';\nimport { StyleBackgroundButton, StyleBorderButton } from '../common/Buttons';\nimport ProGress from '../common/ProGress';\nimport api from '../../hooks/useAxiosInterceptor'\nimport { useParams } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport { updateUser } from '../../redux/userForm/userSlice';\n\nconst StyleWriteComment = styled.div`\n    width:100%;\n    .submit-box {\n        margin-top:2rem;\n        margin-left:auto;\n    }\n\n    .col {\n        gap:1rem;\n    }\n`\n\nexport default function WriteComment({\n    updateHandler,\n}) {\n    const [comments,setComments] = useState('');\n    const {portfolioId} = useParams();\n    const loginUserdata = useSelector(state=>state.user);\n\n    const submitHandler = () => {\n        const body = {\n            memberId : loginUserdata.userInfo.memberId,\n            portfolioId : portfolioId,\n            body : comments \n        }\n        api.post('/comments',body)\n        .then(res=>{\n            updateHandler();\n            setComments('');\n        })\n        .catch(err=>{\n        })\n    }\n\n    const commentsHandler = (e) => {\n        setComments(e.target.value);\n    }\n\n    const keyDownHandler = (e) => {\n        if (e.code === 'Enter' || e.code === 'NumpadEnter') {\n            e.preventDefault();\n            submitHandler();\n        }\n    }\n\n    return (\n        <StyleWriteComment className='col'>\n            <Input \n                label={'댓글 작성'}\n                fontSize={'1.6rem'}\n                height={'8rem'}\n                maxLength={200}\n                type='textarea'\n                value={comments}\n                onChangeHandler={commentsHandler}\n                // onKeyDown={keyDownHandler}\n            />\n            <ProGress\n                comPleteNum={200}\n                proGressNum={comments.length}\n                top='-1.8rem'\n                width='100%'\n                height='1rem'\n            />\n            <div className='submit-box row'>\n                <StyleBackgroundButton\n                    $width={'15rem'}\n                    $fontSize={'1.6rem'}\n                    onClick={submitHandler}\n                >작성</StyleBackgroundButton>\n            </div>\n        </StyleWriteComment>\n    );\n}\n\n\n","import React, { useEffect, useState } from 'react';\nimport { StyleDetailContainer } from '../../pages/ProjectDetail';\nimport WriteComment from './WriteComment';\nimport SeeComment from './SeeComment';\nimport { useSelector } from 'react-redux';\n\nexport default function Comment({\n    isAdmin,\n    detailData,\n    updateHandler\n}) {\n    const loginUserData = useSelector(state=>state.user);\n    return (\n        <StyleDetailContainer\n            id='comment'\n            className='col'\n        >\n            {loginUserData.isLogin && \n            <WriteComment\n                updateHandler={updateHandler}\n            />}\n            {detailData.comments.map((item,idx,arr)=>\n                <SeeComment\n                    key={arr.length-idx-1}\n                    isAdmin={isAdmin}\n                    detailData={detailData}\n                    commentData={arr[arr.length-idx-1]}\n                    updateHandler={updateHandler}\n                />\n            )}\n        </StyleDetailContainer>\n    );\n}\n\n","import React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport DetailHead from '../components/PfPjPublic/DetailHead';\nimport DetailBody from '../components/PfPjPublic/DetailBody';\nimport { StyleBackgroundButton } from '../components/common/Buttons';\nimport { useSelector } from 'react-redux';\nimport { StyleDetailWrapper, StyleDetailContainer } from './ProjectDetail';\nimport Comment from '../components/portfolio/Comment';\nimport useNav from '../hooks/useNav';\nimport Modal from '../components/common/Modal';\nimport api from '../hooks/useAxiosInterceptor';\nimport SuspenseDetailPage from '../components/PfPjPublic/DetailSkeletonLoading';\nimport { shapingApiData } from '../utils/shapingApiData';\nimport { useParams } from 'react-router-dom';\nimport NotFound from './NotFound';\n\nconst OnlyAdmin = styled.div`\n  width: 100%;\n  justify-content: end;\n  gap: 2rem;\n  margin-bottom: 1rem;\n`;\n\nconst DummyData = {\n  memberId: 1,\n  userName: '한휘용',\n  userImgUrl: null,\n  portfolioId: 1,\n  title: '제목1',\n  body: '내용1',\n  view: 1,\n  createdAt: '2023-09-13T10:16:03.452348',\n  modifiedAt: '2023-09-13T10:17:17.7792741',\n  comments: [],\n  tags: ['aaa', 'bbb', 'ccc'],\n  lang: 'C',\n  heartCount: 0,\n  isComment: true,\n  isEmploy: true,\n};\n\nexport default function ProjectDetail() {\n  const [update, setUpdate] = useState(false);\n  const [isAdmin, setIsAdmin] = useState(false);\n  const [detailData, setDetailData] = useState(DummyData);\n  const [apiResult, setApiResult] = useState('');\n  const [isDeleteModal, setIsDeleteModal] = useState(false);\n  const [isLoading, setIsLoading] = useState(true);\n  const [showModal, setShowModal] = useState(false);\n  const [deleteApiResult, setDeleteApiResult] = useState(false);\n  const { toPortfolioEdit, toPortfolio } = useNav();\n\n  const loginUserData = useSelector((state) => state.user);\n  const fontSize = '1.6rem';\n  const { portfolioId } = useParams();\n\n  const updateHandler = () => {\n    setUpdate((prev) => !prev);\n  };\n\n  const adminFunction = [\n    {\n      title: '수정',\n      handler: () => {\n        toPortfolioEdit(detailData.portfolioId);\n      },\n    },\n    {\n      title: '삭제',\n      handler: () => {\n        setShowModal(true);\n        setIsDeleteModal(true);\n        setApiResult('해당 프로젝트를 삭제하시겠습니까?');\n      },\n    },\n  ];\n\n  const fetchData = () => {\n    setIsLoading(true);\n    api\n      .get(`/portfolios/${portfolioId}`)\n      .then((res) => {\n        setIsLoading(false);\n        setDetailData(shapingApiData(res.data.data));\n      })\n      .catch((err) => {\n        if (err.code === 'ERR_BAD_REQUEST') {\n          setApiResult(false);\n        } else if (err.code === 'ERR_BAD_RESPONSE') {\n          setApiResult(false);\n          setIsDeleteModal(true);\n        }\n      })\n      .finally(() => setIsLoading(false));\n  };\n\n  const fetchDeletPortfolio = (id) => {\n    setIsDeleteModal(true);\n    setShowModal(true);\n    api\n      .delete(`/portfolios/${id}`)\n      .then((res) => {\n        setIsDeleteModal(false);\n        setDeleteApiResult(true);\n        setApiResult('포트폴리오를 삭제했습니다. 확인 버튼 클릭시 포트폴리오 리스트로 돌아갑니다.');\n      })\n      .catch((err) => {\n        // if(err.code === 'ERR_BAD_REQUEST')\n        setIsDeleteModal(false);\n        setDeleteApiResult(false);\n        setApiResult('포트폴리오 삭제에 실패했습니다. 다시 시도해 주세요');\n      })\n      .finally(() => setShowModal(true));\n  };\n\n  useEffect(() => {\n    fetchData(); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [update]);\n\n  useEffect(() => {\n    if (loginUserData.userInfo?.memberId === detailData?.memberId) {\n      setIsAdmin(true);\n    } else {\n      setIsAdmin(false);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [detailData]);\n\n  return (\n    <>\n      {apiResult === false ? (\n        <NotFound />\n      ) : (\n        <StyleDetailWrapper>\n          {showModal && (\n            <Modal\n              type={isDeleteModal ? 'confirm' : 'alert'}\n              setIsOpen={setShowModal}\n              title={'알림'}\n              body={apiResult}\n              confirmHandler={() =>\n                isDeleteModal\n                  ? fetchDeletPortfolio(portfolioId)\n                  : deleteApiResult\n                  ? toPortfolio()\n                  : setShowModal(false)\n              }\n            />\n          )}\n          {isLoading ? (\n            <SuspenseDetailPage />\n          ) : (\n            <StyleDetailContainer className=\"col\">\n              <DetailHead detailData={detailData} type=\"portfolio\" setter={setDetailData} />\n              {isAdmin && (\n                <OnlyAdmin className=\"row\">\n                  {adminFunction.map((item, idx) => (\n                    <StyleBackgroundButton\n                      key={idx}\n                      $fontSize={fontSize}\n                      onClick={() => item.handler()}\n                    >\n                      {item.title}\n                    </StyleBackgroundButton>\n                  ))}\n                </OnlyAdmin>\n              )}\n              <DetailBody\n                detailData={detailData}\n                type=\"portfolio\"\n                isAdmin={isAdmin}\n                updateHandler={updateHandler}\n                portfolioId={portfolioId}\n              />\n            </StyleDetailContainer>\n          )}\n          {Number(detailData.isComment) === 1 && (\n            <Comment updateHandler={updateHandler} isAdmin={isAdmin} detailData={detailData} />\n          )}\n        </StyleDetailWrapper>\n      )}\n    </>\n  );\n}\n"],"names":["StyleWriteComment","styled","div","_templateObject","_taggedTemplateLiteral","WriteComment","_ref","updateHandler","_useState","useState","_useState2","_slicedToArray","comments","setComments","portfolioId","useParams","loginUserdata","useSelector","state","user","submitHandler","body","memberId","userInfo","api","post","then","res","catch","err","_jsxs","className","children","_jsx","Input","label","fontSize","height","maxLength","type","value","onChangeHandler","e","target","ProGress","comPleteNum","proGressNum","length","top","width","StyleBackgroundButton","$width","$fontSize","onClick","Comment","isAdmin","detailData","loginUserData","StyleDetailContainer","id","isLogin","map","item","idx","arr","SeeComment","commentData","OnlyAdmin","DummyData","userName","userImgUrl","title","view","createdAt","modifiedAt","tags","lang","heartCount","isComment","isEmploy","ProjectDetail","update","setUpdate","_useState3","_useState4","setIsAdmin","_useState5","_useState6","setDetailData","_useState7","_useState8","apiResult","setApiResult","_useState9","_useState10","isDeleteModal","setIsDeleteModal","_useState11","_useState12","isLoading","setIsLoading","_useState13","_useState14","showModal","setShowModal","_useState15","_useState16","deleteApiResult","setDeleteApiResult","_useNav","useNav","toPortfolioEdit","toPortfolio","prev","adminFunction","handler","useEffect","get","concat","shapingApiData","data","code","finally","_loginUserData$userIn","_Fragment","NotFound","StyleDetailWrapper","Modal","setIsOpen","confirmHandler","delete","SuspenseDetailPage","DetailHead","setter","DetailBody","Number"],"sourceRoot":""}