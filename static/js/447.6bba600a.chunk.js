"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[447],{5447:function(t,e,n){n.r(e),n.d(e,{default:function(){return A}});var o,r=n(9439),i=n(168),a=n(2791),l=n(9256),u=n(5238),c=n(6731),s=n(5983),d=n(9434),m=n(8033),f=n(1743),h=n(2889),p=n(6276),Z=n(7689),v=(n(4815),n(184)),x=l.ZP.div(o||(o=(0,i.Z)(["\n    width:100%;\n    .submit-box {\n        margin-top:2rem;\n        margin-left:auto;\n    }\n\n    .col {\n        gap:1rem;\n    }\n"])));function b(t){var e=t.updateHandler,n=(0,a.useState)(""),o=(0,r.Z)(n,2),i=o[0],l=o[1],u=(0,Z.UO)().portfolioId,c=(0,d.v9)((function(t){return t.user})),m=function(){var t={memberId:c.userInfo.memberId,portfolioId:u,body:i};p.Z.post("/comments",t).then((function(t){e(),l("")})).catch((function(t){}))};return(0,v.jsxs)(x,{className:"col",children:[(0,v.jsx)(f.Z,{label:"\ub313\uae00 \uc791\uc131",fontSize:"1.6rem",height:"8rem",maxLength:200,type:"textarea",value:i,onChangeHandler:function(t){l(t.target.value)}}),(0,v.jsx)(h.Z,{comPleteNum:200,proGressNum:i.length,top:"-1.8rem",width:"100%",height:"1rem"}),(0,v.jsx)("div",{className:"submit-box row",children:(0,v.jsx)(s.Td,{$width:"15rem",$fontSize:"1.6rem",onClick:m,children:"\uc791\uc131"})})]})}var j=n(3399);function g(t){var e=t.isAdmin,n=t.detailData,o=t.updateHandler,r=(0,d.v9)((function(t){return t.user}));return(0,v.jsxs)(m.StyleDetailContainer,{id:"comment",className:"col",children:[r.isLogin&&(0,v.jsx)(b,{updateHandler:o}),n.comments.map((function(t,r,i){return(0,v.jsx)(j.Z,{isAdmin:e,detailData:n,commentData:i[i.length-r-1],updateHandler:o},i.length-r-1)}))]})}var S,I=n(6764),y=n(9100),C=n(9115),D=n(977),E=n(9805),N=l.ZP.div(S||(S=(0,i.Z)(["\n  width:100%;\n  justify-content:end;\n  gap:2rem;\n  margin-bottom:1rem;\n"]))),w={memberId:1,userName:"\ud55c\ud718\uc6a9",userImgUrl:null,portfolioId:1,title:"\uc81c\ubaa91",body:"\ub0b4\uc6a91",view:1,createdAt:"2023-09-13T10:16:03.452348",modifiedAt:"2023-09-13T10:17:17.7792741",comments:[],tags:["aaa","bbb","ccc"],lang:"C",heartCount:0,isComment:!0,isEmploy:!0};function A(){(0,Z.s0)();var t=(0,a.useState)(!1),e=(0,r.Z)(t,2),n=e[0],o=e[1],i=(0,a.useState)(!1),l=(0,r.Z)(i,2),f=l[0],h=l[1],x=(0,a.useState)(w),b=(0,r.Z)(x,2),j=b[0],S=b[1],A=(0,a.useState)(""),H=(0,r.Z)(A,2),k=H[0],P=H[1],R=(0,a.useState)(!1),T=(0,r.Z)(R,2),O=T[0],U=T[1],_=(0,a.useState)(!0),z=(0,r.Z)(_,2),$=z[0],B=z[1],L=(0,a.useState)(!1),F=(0,r.Z)(L,2),G=F[0],Q=F[1],W=(0,a.useState)(!1),X=(0,r.Z)(W,2),q=X[0],J=X[1],K=(0,I.Z)(),M=K.toPortfolioEdit,V=K.toPortfolio,Y=(0,d.v9)((function(t){return t.user})),tt=(0,Z.UO)().portfolioId,et=function(){o((function(t){return!t}))},nt=[{title:"\uc218\uc815",handler:function(){M(j.portfolioId)}},{title:"\uc0ad\uc81c",handler:function(){Q(!0),U(!0),P("\ud574\ub2f9 \ud504\ub85c\uc81d\ud2b8\ub97c \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")}}];return(0,a.useEffect)((function(){B(!0),p.Z.get("/portfolios/".concat(tt)).then((function(t){B(!1),S((0,D.X)(t.data.data))})).catch((function(t){"ERR_BAD_REQUEST"===t.code?P(!1):"ERR_BAD_RESPONSE"===t.code&&(P(!1),U(!0))})).finally((function(){return B(!1)}))}),[n]),(0,a.useEffect)((function(){var t;(null===(t=Y.userInfo)||void 0===t?void 0:t.memberId)===(null===j||void 0===j?void 0:j.memberId)?h(!0):h(!1)}),[j]),(0,v.jsx)(v.Fragment,{children:!1===k?(0,v.jsx)(E.default,{}):(0,v.jsxs)(m.StyleDetailWrapper,{children:[G&&(0,v.jsx)(y.Z,{type:O?"confirm":"alert",setIsOpen:Q,title:"\uc54c\ub9bc",body:k,confirmHandler:function(){return O?(t=tt,U(!0),Q(!0),void p.Z.delete("/portfolios/".concat(t)).then((function(t){U(!1),J(!0),P("\ud3ec\ud2b8\ud3f4\ub9ac\uc624\ub97c \uc0ad\uc81c\ud588\uc2b5\ub2c8\ub2e4. \ud655\uc778 \ubc84\ud2bc \ud074\ub9ad\uc2dc \ud3ec\ud2b8\ud3f4\ub9ac\uc624 \ub9ac\uc2a4\ud2b8\ub85c \ub3cc\uc544\uac11\ub2c8\ub2e4.")})).catch((function(t){U(!1),J(!1),P("\ud3ec\ud2b8\ud3f4\ub9ac\uc624 \uc0ad\uc81c\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574 \uc8fc\uc138\uc694")})).finally((function(){return Q(!0)}))):q?V():Q(!1);var t}}),$?(0,v.jsx)(C.Z,{}):(0,v.jsxs)(m.StyleDetailContainer,{className:"col",children:[(0,v.jsx)(u.Z,{detailData:j,type:"portfolio"}),f&&(0,v.jsx)(N,{className:"row",children:nt.map((function(t,e){return(0,v.jsx)(s.Td,{$fontSize:"1.6rem",onClick:function(){return t.handler()},children:t.title},e)}))}),(0,v.jsx)(c.Z,{detailData:j,type:"portfolio",isAdmin:f,updateHandler:et,portfolioId:tt})]}),1===Number(j.isComment)&&(0,v.jsx)(g,{updateHandler:et,isAdmin:f,detailData:j})]})})}}}]);
//# sourceMappingURL=447.6bba600a.chunk.js.map